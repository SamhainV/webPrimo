---
import Layout from "../layouts/Layout.astro";
import Elemento from "../components/Elemento.astro";

// Obtener el número de la URL
const url = new URL(import.meta.url);
const numero = Number(url.searchParams.get("numero")) || 10;

// Generar números primos
let primes: number[] = [];
for (let num = 2; num <= numero; num++) {
  let isPrime = true;
  for (let i = 2; i * i <= num; i++) {
    if (num % i === 0) {
      isPrime = false;
      break;
    }
  }
  if (isPrime) primes.push(num);
}

// Generar colores únicos para cada número
const colors = primes.map((_, index) => `hsl(${(index * 40) % 360}, 70%, 60%)`);
---

<Layout title="Resultados">
  <div class="p-6 text-center">
    <h1 class="text-2xl font-bold text-gray-800">Números Primos</h1>
    <p class="text-lg text-gray-600 mt-4">
      Lista de primos hasta el número indicado:
    </p>

    <!-- CENTRADO Y RESPONSIVE GRID -->
    <div class="flex justify-center mt-4">
      <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2">
        {primes.map((num, index) => (
          <Elemento numero={num} color={colors[index]} />
        ))}
      </div>
    </div>
  </div>
</Layout>
